<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" width="1082" height="574">
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	<fx:Script>
		<![CDATA[
			import controlador.Controller;
			
			import events.MovimientoEvent;
			
			import modelo.ModelApp;
			
			import mx.core.FlexGlobals;
			import mx.managers.PopUpManager;
			
			import vo.MovimientoVO;
			[Bindable] public var selectedMov:MovimientoVO;
			[Bindable] private var modelApp:ModelApp = ModelApp.getInstance();
			
			protected function fnIngresarMov(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				var pop:IngresoMovimiento = new IngresoMovimiento();
				pop.fnPost = fnBuscar;
				PopUpManager.addPopUp(pop, FlexGlobals.topLevelApplication as DisplayObject, true);
				PopUpManager.centerPopUp(pop);
			}
			
			private function fnBuscar():void{
				var ev:MovimientoEvent = new MovimientoEvent(MovimientoEvent.LISTAR, null, null, null);
				Controller.getInstance().dispatchEvent(ev);
			}
			
		]]>
	</fx:Script>
	<s:DataGrid left="10" right="10" top="123" bottom="29" requestedRowCount="4" dataProvider="{modelApp.arrMovimiento}">
		<s:columns>
			<s:ArrayList>
				<s:GridColumn dataField="fec_mvto" headerText="Fecha"></s:GridColumn>
				<s:GridColumn dataField="descripcion" headerText="Glosa"></s:GridColumn>
				<s:GridColumn dataField="tipo_documento" headerText="Tipo Doc"></s:GridColumn>
				<s:GridColumn dataField="nro_doc" headerText="N° Documento"></s:GridColumn>
				<s:GridColumn headerText="Ing. Dev."></s:GridColumn>
				<s:GridColumn headerText="Gastos"></s:GridColumn>
				<s:GridColumn headerText="Pagos"></s:GridColumn>
				<s:GridColumn headerText="Deuda Mes"></s:GridColumn>
				<s:GridColumn dataField="dataField3" headerText="Saldo Caja"></s:GridColumn>
				<s:GridColumn dataField="dataField1" headerText="Deuda Acum."></s:GridColumn>
				<s:GridColumn dataField="dataField2" headerText="Resultado"></s:GridColumn>
				<s:GridColumn dataField="dataField2" headerText="Fuente Financiera"></s:GridColumn>
			</s:ArrayList>
		</s:columns>
		
	</s:DataGrid>
	<s:BorderContainer x="10" y="19" width="440" height="85" cornerRadius="5">
		<s:VGroup left="5" top="5" width="143">
			<s:Group width="100%">
				<s:Label verticalCenter="0" text="Desde"/>
				<mx:DateField right="0" top="0"/>
			</s:Group>
			<s:Group width="100%">
				<s:Label verticalCenter="0" text="Hasta" />		
				<mx:DateField right="0" top="0"/>
			</s:Group>
		</s:VGroup>
		<s:Group x="181" y="7">
			
			<s:Label x="32" verticalCenter="0" text="Tipo Movimiento"/>
			<s:DropDownList x="132" verticalCenter="0"></s:DropDownList>
		</s:Group>
		<s:Button x="353" y="49" label="Buscar"/>
	</s:BorderContainer>
	<s:BorderContainer x="905" y="19" width="167" height="85" cornerRadius="5">
		<s:layout>
			<s:HorizontalLayout paddingBottom="5" paddingLeft="5" paddingRight="5" paddingTop="5"/>
		</s:layout>
		
		<s:Button width="100%" height="72" label="Ingresar" click="fnIngresarMov(event)"/>
		<s:VGroup gap="5" 
						  horizontalAlign="left" verticalAlign="top">
			<s:Button x="93" y="0" height="33" label="Editar"/>
			<s:Button x="93" y="49" height="34" label="Eliminar"/>	
		</s:VGroup>
		
		
	</s:BorderContainer>
	<s:BorderContainer x="458" y="19" width="439" height="85" cornerRadius="5">
		<s:Label x="10" y="10" fontSize="15" text="{selectedMov.glosa}"/>
		<s:Label x="11" y="43" text="Proveedor:"/>
		<s:Label x="81" y="41" text="{selectedMov.proveedor.nombre}"/>
		<s:Label x="10" y="62" text="Monto:"/>
		<s:Label x="80" y="62" text="{selectedMov.monto}"/>
		<s:Label x="233" y="42" text="Rut:"/>
		<s:Label x="277" y="43" text="{selectedMov.proveedor.rut}"/>
		<s:Label x="161" y="61" text="Código Contable:"/>
		<s:Label x="278" y="61" text="{selectedMov.cod_contable}"/>
		<s:Label x="332" y="61" text="Cuenta:"/>
		<s:Label x="395" y="61" text="{selectedMov.cod_cuenta}"/>
	</s:BorderContainer>
	<s:Label x="23" top="5" fontWeight="bold" text="Filtros"/>
	<s:Label x="465" top="5" fontWeight="bold" text="Detalle"/>
	<s:Label x="916" top="5" fontWeight="bold" text="Acción"/>
</s:Group>
